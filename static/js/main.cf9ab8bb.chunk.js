(this["webpackJsonpreact-weather-app"]=this["webpackJsonpreact-weather-app"]||[]).push([[0],{13:function(e,t,a){e.exports={wrapper:"CardsContainer_wrapper__31d4h",form:"CardsContainer_form__1OAD7",input:"CardsContainer_input__3n880",location:"CardsContainer_location__2wxKJ",getButton:"CardsContainer_getButton__3pAP-",button_animation:"CardsContainer_button_animation__18SRi",icon:"CardsContainer_icon__1vPhV",cards_holder:"CardsContainer_cards_holder__156K4"}},226:function(e,t,a){},227:function(e,t,a){"use strict";a.r(t);var n=a(3),c=a(0),r=a.n(c),o=a(44),i=a.n(o),s=a(17),d=a(13),l=a.n(d),j=a(101),_=a(6),u=a.n(_),h=a(20),b=a(21),m=function(e){var t=e.info,a=e.onRemove,r=Object(c.useState)(!1),o=Object(j.a)(r,2),i=o[0],s=o[1],d=t.name,l=t.main,_=t.weather,m=t.dt,p=t.wind,O=t.sys,f=new Date(1e3*m),C=f.toLocaleString("en-US",{weekday:"short",month:"short",day:"numeric"}),x=function(e){return e.toLocaleString("en-US",{hour:"2-digit",minute:"2-digit"})},w="http://openweathermap.org/img/wn/".concat(_[0].icon,"@2x.png"),y=function(){s(!i)};return Object(n.jsx)("div",{className:"".concat(u.a.card),children:Object(n.jsxs)("div",{className:"".concat(u.a.inner," ").concat(i?u.a.isFlipped:""),children:[Object(n.jsxs)("div",{className:"".concat(l.temp<=15?u.a.card_cold:u.a.card_warm," \n          ").concat(u.a.side," \n          ").concat(u.a.front_side),children:[Object(n.jsx)("span",{className:u.a.close,onClick:a,children:Object(n.jsx)(h.a,{icon:b.d})}),Object(n.jsx)("h2",{className:u.a.city,children:d}),Object(n.jsx)("img",{className:u.a.icon,src:w,alt:"weather icon"}),Object(n.jsx)("h2",{className:u.a.temp,children:"".concat(Math.round(l.temp)," \xb0\u0421")}),Object(n.jsx)("p",{className:u.a.descr,children:_[0].description.charAt(0).toUpperCase()+_[0].description.slice(1)}),Object(n.jsx)("h3",{className:u.a.time,children:x(f)}),Object(n.jsx)("p",{className:u.a.date,children:C}),Object(n.jsxs)("label",{className:"".concat(u.a.navButtons," ").concat(u.a.moreInfo),children:["More Info",Object(n.jsx)("button",{onClick:y,children:Object(n.jsx)(h.a,{icon:b.b})})]})]}),Object(n.jsxs)("div",{className:"".concat(l.temp<=15?u.a.card_cold:u.a.card_warm," ").concat(u.a.side," ").concat(u.a.back_side),children:[Object(n.jsx)("span",{className:u.a.close,onClick:a,children:Object(n.jsx)(h.a,{icon:b.d})}),Object(n.jsx)("h2",{className:u.a.city,children:d}),Object(n.jsxs)("div",{className:u.a.moreData,children:[Object(n.jsxs)("h3",{children:["Feels :",Object(n.jsx)("span",{children:"".concat(Math.round(l.feels_like)," \xb0\u0421")})]}),Object(n.jsxs)("h3",{children:["Pressure :",Object(n.jsx)("span",{children:"".concat(l.pressure," hPa")})]}),Object(n.jsxs)("h3",{children:["Wind :",Object(n.jsx)("span",{children:"".concat(p.speed," m/s")})]}),Object(n.jsxs)("h3",{children:["Sunrise :",Object(n.jsx)("span",{children:"".concat(x(new Date(1e3*O.sunrise)))})]}),Object(n.jsxs)("h3",{children:["Sunset :",Object(n.jsx)("span",{children:"".concat(x(new Date(1e3*O.sunset)))})]})]}),Object(n.jsxs)("label",{className:"".concat(u.a.navButtons," ").concat(u.a.backButton),children:[Object(n.jsx)("button",{onClick:y,children:Object(n.jsx)(h.a,{icon:b.a})}),"Back"]})]})]})})},p=a(229),O=a(228),f=function(e){var t=e.getLocation,a=e.handleSubmit;return Object(n.jsxs)("div",{className:l.a.form,children:[Object(n.jsxs)("form",{name:"city",onSubmit:a,children:[Object(n.jsxs)("label",{className:l.a.input,children:["City:",Object(n.jsx)(p.a,{name:"city",component:"input",id:"cityName"})]}),Object(n.jsx)("button",{className:l.a.getButton,onSubmit:function(){return document.getElementById("cityName").value=""},children:"Get Weather"})]}),Object(n.jsxs)("button",{className:l.a.location,onClick:t,children:["Current location",Object(n.jsx)(h.a,{className:l.a.icon,icon:b.c})]})]})},C=f=Object(O.a)({form:"AddWeather"})(f),x=a(67),w=a.n(x),y="FETCH_CITY",g="FETCH_LOCATION",N="ADD_CARD",v="05f7911bd80b989d6f1878b5b3f72620",A="REMOVE_CARD",S=Object(s.b)((function(e){return{weatherArray:e.weather.weatherArray}}),{getCoordsWeather:function(e,t){return function(a){w.a.get("https://api.openweathermap.org/data/2.5/weather?lat=".concat(e,"&lon=").concat(t,"&appid=").concat(v,"&units=metric")).then((function(e){a({type:g,payload:e.data})}))}},getCityWeather:function(e){return function(t){w.a.get("https://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&appid=").concat(v,"&units=metric")).then((function(e){t({type:y,payload:e.data})})).catch((function(){alert("Please write correct city")}))}},removeCard:function(e){return function(t){t({type:A,payload:e})}},addCard:function(){return function(e){e({type:N})}}})((function(e){var t=e.getCoordsWeather,a=e.getCityWeather,r=e.weatherArray,o=e.removeCard,i=e.addCard;Object(c.useEffect)((function(){r.length>0&&i()}),[]);return Object(n.jsxs)("div",{className:l.a.wrapper,children:[Object(n.jsx)(C,{getLocation:function(){navigator.geolocation.getCurrentPosition((function(e){var a={lat:e.coords.latitude,lng:e.coords.longitude};t(a.lat,a.lng)}))},onSubmit:function(){a(document.getElementById("cityName").value)}}),Object(n.jsx)("div",{className:l.a.cards_holder,children:r.map((function(e,t){return Object(n.jsx)(m,{info:e,onRemove:function(){return o(t)}},e.id)}))})]})})),k=(a(226),function(){return Object(n.jsx)(S,{})}),D=a(7),B=a(100),E=a(14),I=a(22),L={weatherArray:[]},P=function(e){return Array.from(new Set(Object(I.a)(e).map((function(e){return e.id})))).map((function(t){return Object(I.a)(e).find((function(e){return e.id===t}))}))},R=a(230),F=Object(D.c)({weather:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:case g:return Object(E.a)(Object(E.a)({},e),{},{weatherArray:P([t.payload].concat(Object(I.a)(e.weatherArray)))});case N:return Object(E.a)(Object(E.a)({},e),{},{weatherArray:P(Object(I.a)(e.weatherArray))});case A:return Object(E.a)(Object(E.a)({},e),{},{weatherArray:Object(I.a)(e.weatherArray).filter((function(e,a){return a!==t.payload}))});default:return e}},form:R.a}),W=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||D.d,M=Object(D.e)(F,W(Object(D.a)(B.a)));i.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(s.a,{store:M,children:Object(n.jsx)(k,{})})}),document.getElementById("root"))},6:function(e,t,a){e.exports={card:"Card_card__2e0Iy",inner:"Card_inner__2eG4N",side:"Card_side__2vV3p",front_side:"Card_front_side__1A8F0",icon:"Card_icon__2dQjL",temp:"Card_temp__2yi4t",descr:"Card_descr__3NmRn",time:"Card_time__1U9mF",date:"Card_date__1bDWL",moreInfo:"Card_moreInfo__3Gs-A",navButtons:"Card_navButtons__3PizK",city:"Card_city__3RqHO",back_side:"Card_back_side__iLaAz",moreData:"Card_moreData__3HSLw",backButton:"Card_backButton__o04hP",isFlipped:"Card_isFlipped__16CRM",close:"Card_close__3jVm_",card_cold:"Card_card_cold__1aNVO",card_warm:"Card_card_warm__1vDP5"}}},[[227,1,2]]]);
//# sourceMappingURL=main.cf9ab8bb.chunk.js.map