(this["webpackJsonpreact-weather-app"]=this["webpackJsonpreact-weather-app"]||[]).push([[0],{42:function(e,t,n){e.exports={root:"add-weather-form_root__I-JFt",input:"add-weather-form_input__3Rb5w",location:"add-weather-form_location__wrKco",getButton:"add-weather-form_getButton__ymE1L",button_animation:"add-weather-form_button_animation__3Mx5N",icon:"add-weather-form_icon__1urrW"}},50:function(e,t,n){e.exports={root:"card-list_root__2FEnB"}},6:function(e,t,n){e.exports={card:"card_card__1uUMi",inner:"card_inner__3aGS4",side:"card_side__3BQPs",front_side:"card_front_side__2fMm4",icon:"card_icon__1R5Ri",temp:"card_temp__di7ld",descr:"card_descr__1-Rmt",time:"card_time__wn7gE",date:"card_date__r4kyw",moreInfo:"card_moreInfo__1bypu",navButtons:"card_navButtons__38fML",city:"card_city__hPi6V",back_side:"card_back_side__CDcq3",moreData:"card_moreData__2jWex",backButton:"card_backButton__2yjox",isFlipped:"card_isFlipped__hTiL9",close:"card_close__1vERt",card_cold:"card_card_cold__8Z2DU",card_warm:"card_card_warm__3zmt1"}},68:function(e,t,n){},69:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(33),r=n(19),i=n(74),o=Object(i.a)("Weather/Get",Object(i.b)()),s=Object(i.a)("Weather/GetSuccess",Object(i.b)()),d=Object(i.a)("Weather/GetFailed",Object(i.b)()),u=Object(i.a)("WeatherByLocation/Get",Object(i.b)()),j=Object(i.a)("Location/Get"),b=Object(i.a)("Location/GetSuccess",Object(i.b)()),l=Object(i.a)("Location/GetFailed",Object(i.b)()),O=Object(i.a)("CardItem/Remove",Object(i.b)()),h=function(e){return e.weather},p=n(54),f=n(25),m=n.n(f),_=n(20),x=n(21),w=function(e){return e.toLocaleString("en-US",{hour:"2-digit",minute:"2-digit"})},v=function(e){return e.toLocaleString("en-US",{weekday:"short",month:"short",day:"numeric"})},g=n(6),k=n.n(g),y=n(1),L=function(e){var t=e.weatherInfo,n=e.onRemove,a=Object(c.useState)(!1),r=Object(p.a)(a,2),i=r[0],o=r[1],s=t.name,d=t.main,u=t.wind,j=function(e){var t=e.dt,n=e.weather,c=e.sys,a=e.main,r=new Date(1e3*t);return{timeFromDate:w(r),dateWeek:v(r),sunset:w(new Date(1e3*c.sunset)),sunrise:w(new Date(1e3*c.sunrise)),icon:"http://openweathermap.org/img/wn/".concat(n[0].icon,"@2x.png"),mainTemp:Math.round(a.temp),feelsLikeTemp:Math.round(a.feels_like),weatherDescription:n[0].description.charAt(0).toUpperCase()+n[0].description.slice(1)}}(t),b=j.timeFromDate,l=j.dateWeek,O=j.sunrise,h=j.sunset,f=j.icon,g=j.mainTemp,L=j.feelsLikeTemp,N=j.weatherDescription,B=function(){return o((function(e){return!e}))},D=d.temp<=15?k.a.card_cold:k.a.card_warm;return Object(y.jsx)("div",{className:k.a.card,children:Object(y.jsxs)("div",{className:m()(k.a.inner,i&&k.a.isFlipped),children:[Object(y.jsxs)("div",{className:m()(k.a.side,k.a.front_side,D),children:[Object(y.jsx)("span",{className:k.a.close,onClick:function(){return n()},children:Object(y.jsx)(_.a,{icon:x.d})}),Object(y.jsx)("h2",{className:k.a.city,children:s}),Object(y.jsx)("img",{className:k.a.icon,src:f,alt:"weather icon"}),Object(y.jsxs)("h2",{className:k.a.temp,children:[g," \xb0\u0421"]}),Object(y.jsx)("p",{className:k.a.descr,children:N}),Object(y.jsx)("h3",{className:k.a.time,children:b}),Object(y.jsx)("p",{className:k.a.date,children:l}),Object(y.jsxs)("label",{className:m()(k.a.navButtons,k.a.moreInfo),children:["More Info",Object(y.jsx)("button",{onClick:B,children:Object(y.jsx)(_.a,{icon:x.b})})]})]}),Object(y.jsxs)("div",{className:m()(k.a.side,k.a.back_side,D),children:[Object(y.jsx)("span",{className:k.a.close,onClick:n,children:Object(y.jsx)(_.a,{icon:x.d})}),Object(y.jsx)("h2",{className:k.a.city,children:s}),Object(y.jsxs)("div",{className:k.a.moreData,children:[Object(y.jsxs)("h3",{children:["Feels :",Object(y.jsxs)("span",{children:[L," \xb0\u0421"]})]}),Object(y.jsxs)("h3",{children:["Pressure :",Object(y.jsxs)("span",{children:[d.pressure," hPa"]})]}),Object(y.jsxs)("h3",{children:["Wind :",Object(y.jsxs)("span",{children:[u.speed," m/s"]})]}),Object(y.jsxs)("h3",{children:["Sunrise :",Object(y.jsx)("span",{children:O})]}),Object(y.jsxs)("h3",{children:["Sunset :",Object(y.jsx)("span",{children:h})]})]}),Object(y.jsxs)("label",{className:m()(k.a.navButtons,k.a.backButton),children:[Object(y.jsx)("button",{onClick:B,children:Object(y.jsx)(_.a,{icon:x.a})}),"Back"]})]})]})})},N=n(50),B=n.n(N),D=function(){var e=Object(r.b)(),t=Object(r.c)(h),n=t.weatherList,c=t.isLoading;return Object(y.jsxs)(y.Fragment,{children:[c&&Object(y.jsx)("div",{children:"Loading..."}),Object(y.jsx)("div",{className:B.a.root,children:n.map((function(t){return Object(y.jsx)(L,{weatherInfo:t,onRemove:(n=t.id,function(){return e(O(n))})},t.id);var n}))})]})},S={weatherList:[],coordinates:{lon:0,lat:0},isLoading:!1},F=n(12),G=n(24),W=n(75),C=function(e,t){return e.weatherList.filter((function(e){return e.id===t.id})).length>0?Object(G.a)(e.weatherList):[].concat(Object(G.a)(e.weatherList),[t])},R=Object(W.b)(S,Object(W.a)(o,(function(e){return Object(F.a)(Object(F.a)({},e),{},{isLoading:!0})})),Object(W.a)(s,(function(e,t){var n=t.payload;return Object(F.a)(Object(F.a)({},e),{},{isLoading:!1,weatherList:C(e,n)})})),Object(W.a)(d,(function(e,t){var n=t.payload;return Object(F.a)(Object(F.a)({},e),{},{isLoading:!1,error:n})})),Object(W.a)(j,(function(e){return Object(F.a)({},e)})),Object(W.a)(b,(function(e,t){var n=t.payload;return Object(F.a)(Object(F.a)({},e),{},{coordinates:n})})),Object(W.a)(l,(function(e,t){var n=t.payload;return Object(F.a)(Object(F.a)({},e),{},{error:n})})),Object(W.a)(O,(function(e,t){var n=t.payload;return Object(F.a)(Object(F.a)({},e),{},{weatherList:e.weatherList.filter((function(e){return e.id!==n}))})}))),E=n(5),I=n(78),M=n(48),T=n(79),U=n(80),P=n(83),q=n(77),J=n(30),V=n.n(J),z=n(47),A=n(76),K=[function(e){return e.pipe(Object(P.a)(o),Object(q.a)(),Object(I.a)((function(e){return function(e){return Object(A.a)("https://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&appid=").concat("410edb780fb8bb31477b1315756c4f06","&units=metric"),{method:"GET",selector:function(){var e=Object(z.a)(V.a.mark((function e(t){var n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok){e.next=4;break}return e.next=3,t.json();case 3:return e.abrupt("return",e.sent);case 4:return e.t0=Error,e.next=7,t.text();case 7:if(e.t2=n=e.sent,e.t1=null!==e.t2,!e.t1){e.next=11;break}e.t1=void 0!==n;case 11:if(!e.t1){e.next=15;break}e.t3=n,e.next=16;break;case 15:e.t3="error fetching";case 16:throw e.t4=e.t3,new e.t0(e.t4);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})}(e).pipe(Object(M.a)((function(e){return s(e)})),Object(T.a)((function(e){return[d(e.message)]})))})))},function(e){return e.pipe(Object(P.a)(j),Object(I.a)((function(){return new E.a((function(e){window.navigator&&window.navigator.geolocation?window.navigator.geolocation.getCurrentPosition((function(t){e.next({lat:t.coords.latitude,lon:t.coords.longitude}),e.complete()}),(function(t){return e.error(t)})):e.error("Unsupported Browser")})).pipe(Object(U.a)((function(e){return[b(e),u(e)]})),Object(T.a)((function(e){return[l(e.message)]})))})))},function(e){return e.pipe(Object(P.a)(u),Object(q.a)(),Object(I.a)((function(e){return function(e){return Object(A.a)("https://api.openweathermap.org/data/2.5/weather?lat=".concat(e.lat,"&lon=").concat(e.lon,"&appid=").concat("410edb780fb8bb31477b1315756c4f06","&units=metric"),{method:"GET",selector:function(){var e=Object(z.a)(V.a.mark((function e(t){var n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok){e.next=4;break}return e.next=3,t.json();case 3:return e.abrupt("return",e.sent);case 4:return e.t0=Error,e.next=7,t.text();case 7:if(e.t2=n=e.sent,e.t1=null!==e.t2,!e.t1){e.next=11;break}e.t1=void 0!==n;case 11:if(!e.t1){e.next=15;break}e.t3=n,e.next=16;break;case 15:e.t3="error fetching";case 16:throw e.t4=e.t3,new e.t0(e.t4);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})}(e).pipe(Object(M.a)((function(e){return s(e)})),Object(T.a)((function(e){return[d(e.message)]})))})))}],Q=n(43),Z=n(42),H=n.n(Z),X=function(e){return!e&&"Required"},Y=function(){var e=Object(r.b)();return Object(y.jsxs)("div",{className:H.a.root,children:[Object(y.jsx)(Q.c,{initialValues:{city:""},onSubmit:function(t){return n=t.city,void e(o(n));var n},children:function(e){var t=e.errors,n=e.touched;return Object(y.jsxs)(Q.b,{children:[Object(y.jsx)(Q.a,{name:"city",validate:X}),t.city&&n.city&&Object(y.jsx)("div",{children:t.city}),Object(y.jsx)("button",{type:"submit",children:"Get Weather"})]})}}),Object(y.jsxs)("button",{className:H.a.location,onClick:function(){e(j())},children:["Current location",Object(y.jsx)(_.a,{className:H.a.icon,icon:x.c})]})]})},$=(n(68),function(){return Object(y.jsxs)("div",{className:"app",children:[Object(y.jsx)(Y,{}),Object(y.jsx)(D,{})]})}),ee=n(22);function te(){return Object(ee.combineReducers)({weather:R})}var ne=n(81),ce=n(82),ae=n(53),re=Object(ne.a)(),ie=Object(G.a)(K),oe=function(e,t,n){return ce.a.apply(void 0,Object(G.a)(ie))(e,t,n).pipe(Object(T.a)((function(e,t){return console.log(e),t})))};var se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(ee.applyMiddleware)(re),n=te(),c=Object(ee.createStore)(n,e,Object(ae.composeWithDevTools)(t));return re.run(oe),c}();Object(a.render)(Object(y.jsx)(c.StrictMode,{children:Object(y.jsx)(r.a,{store:se,children:Object(y.jsx)($,{})})}),document.getElementById("root"))}},[[69,1,2]]]);
//# sourceMappingURL=main.ffb67187.chunk.js.map